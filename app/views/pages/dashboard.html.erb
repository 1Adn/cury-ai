<div class="dashboard" data-controller="dashboard">
  <aside class="dashboard-sidebar">
    <h2>Dashboard</h2>
    <ul>
      <li><a href="#profile"  data-action="click->dashboard#changeSection" data-target="profile"><i class="fa fa-user"></i>Profile</a></li>
      <li><a href="#experiences" data-action="click->dashboard#changeSection" data-target="experiences"><i class="fa fa-briefcase"></i>Experiences</a></li>
      <li><a href="#skills"  data-action="click->dashboard#changeSection" data-target="skills"><i class="fa fa-code"></i>Skills</a></li>
      <li><a href="#degrees"  data-action="click->dashboard#changeSection" data-target="degrees"><i class="fa fa-graduation-cap"></i>Degrees</a></li>
      <li><a href="#languages"  data-action="click->dashboard#changeSection" data-target="languages"><i class="fa fa-language"></i>Languages</a></li>
      <li><a href="#joboffer"  data-action="click->dashboard#changeSection" data-target="joboffer"><i class="fa fa-handshake"></i>Job Offer</a></li>
      <li><a href="#cvs"  data-action="click->dashboard#changeSection" data-target="cvs"><i class="fa fa-file-alt"></i>  Generated Resumes</a></li>
    </ul>
    <div class="add-cv-button">
      <a href="your-link-to-add-cv" class="add-cv-link">
        <i class="fa fa-plus" aria-hidden="true"></i>
        Add new CV
      </a>
    </div>
  </aside>
  <main class="dashboard-content">
    <!-- Profile Section -->
    <section id="profile" class="dashboard-section" data-dashboard-target="section">
      <div class="h2-dash">
        <h2>Your Profile</h2>
      </div>
      <!-- The rest of your profile content -->
      <% if @profile %>
        <div class="contact-infos">
          <h4>Contact informations</h4>
          <div class="contact-list">
            <p><strong>First name: </strong><%= @profile.first_name %></p>
            <p><strong>Last name: </strong><%= @profile.last_name %></p>
            <p><strong>Address: </strong><%= @profile.address %></p>
            <p><strong>Age: </strong><%= @profile.age %></p>
            <p><strong>Phone number: </strong><%= @profile.phone_number %></p>
            <p><strong>@email: </strong><%= @profile.email %></p>
          </div>
        </div>
      </section>
      <!-- Experiences Section -->
      <section id="experiences" class="dashboard-section" data-dashboard-target="section">
        <div class="h2-dash">
          <h2>Work experiences</h2>
        </div>
        <!-- The rest of your experiences content -->
        <div class="accordion" id="accordionDegrees">
          <% if @profile.degrees.present? %>
            <% @profile.degrees.each_with_index do |degree, index| %>
              <div class="accordion-item-dash">
                <h2 class="accordion-header-dash" id="heading-dash<%= index %>">
                  <button id="boutton-accordion-dash" class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse<%= index %>" aria-expanded="true" aria-controls="collapse<%= index %>">
                    Degree <%= index + 1 %>
                  </button>
                </h2>
                <div id="collapse<%= index %>" class="accordion-collapse collapse" aria-labelledby="heading<%= index %>" data-bs-parent="#accordionDegrees">
                  <div class="accordion-body-dashboard">
                    <div class="content-dash-accordion"><strong>Your Degree name:</strong> <%= degree.title %><br>
                    </div>
                    <div class="content-dash-accordion"><strong>Your Degree level:</strong> <%= degree.level %><br>
                    </div>
                    <div class="content-dash-accordion"><strong>Your Degree Field:</strong> <%= degree.field %><br>
                    </div>
                    <div class="content-dash-accordion"><strong>Your Degree's school:</strong> <%= degree.school %><br>
                    </div>
                  </div>
                </div>
              </div>
            <% end %>
          <% else %>
            <div>No degrees</div>
          <% end %>
        </div>
      </section>
      <!-- Skills Section -->
      <section id="skills" class="dashboard-section" data-dashboard-target="section">
        <div class="h2-dash">
          <h2>Skills</h2>
        </div>
        <!-- The rest of your skills content -->
        <div class="accordion" id="accordionExample">
          <% if @profile.skills.present? %>
            <% @profile.skills.each_with_index do |skill, index| %>
              <div class="accordion-item-dash">
                <h2 class="accordion-header-dash" id="heading-dash<%= index %>">
                  <button id="boutton-accordion-dash" class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse<%= index %>" aria-expanded="false" aria-controls="collapse<%= index %>">
                    Skill number <%= index + 1 %>
                  </button>
                </h2>
                <div id="collapse<%= index %>" class="accordion-collapse collapse" aria-labelledby="heading<%= index %>" data-bs-parent="#accordionExample">
                  <div class="accordion-body-dashboard">
                    <div class="content-dash-accordion"><strong>Your skill:</strong> <%= skill.title %><br>
                    </div>
                    <div class="content-dash-accordion"><strong>Your level:</strong> <%= skill.level %></div>
                  </div>
                </div>
              </div>
            <% end %>
          <% else %>
            <div>No Skills</div>
          <% end %>
        </div>
      </section>
      <!-- Degrees Section -->
      <section id="degrees" class="dashboard-section" data-dashboard-target="section">
        <div class="h2-dash">
          <h2>Degrees</h2>
        </div>
        <!-- The rest of your degrees content -->
        <div class="accordion" id="accordionDegrees">
          <% if @profile.degrees.present? %>
            <% @profile.degrees.each_with_index do |degree, index| %>
              <div class="accordion-item-dash">
                <h2 class="accordion-header-dash" id="heading-dash<%= index %>">
                  <button id="boutton-accordion-dash" class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse<%= index %>" aria-expanded="true" aria-controls="collapse<%= index %>">
                    Degree <%= index + 1 %>
                  </button>
                </h2>
                <div id="collapse<%= index %>" class="accordion-collapse collapse" aria-labelledby="heading<%= index %>" data-bs-parent="#accordionDegrees">
                  <div class="accordion-body-dashboard">
                    <div class="content-dash-accordion"><strong>Your Degree name:</strong> <%= degree.title %><br>
                    </div>
                    <div class="content-dash-accordion"><strong>Your Degree level:</strong> <%= degree.level %><br>
                    </div>
                    <div class="content-dash-accordion"><strong>Your Degree Field:</strong> <%= degree.field %><br>
                    </div>
                    <div class="content-dash-accordion"><strong>Your Degree's school:</strong> <%= degree.school %><br>
                    </div>
                  </div>
                </div>
              </div>
            <% end %>
          <% else %>
            <div>No degrees</div>
          <% end %>
        </div>
      </section>

      <!-- Languages Section -->
      <section id="languages" class="dashboard-section" data-dashboard-target="section">
        <div class="h2-dash"><h2>Languages</h2></div>
        <!-- The rest of your languages content -->
        <div class="step3-infos-language-details">
          <div class="accordion" id="languageAccordion">
            <% if @profile.languages.present? %>
              <% @profile.languages.each_with_index do |language, index| %>
                <div class="accordion-item-dash">
                  <h2 class="accordion-header-dash" id="heading-dash<%= index %>">
                    <button id="boutton-accordion-dash" class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseLanguage<%= index %>" aria-expanded="true" aria-controls="collapseLanguage<%= index %>">
                      Language <%= index + 1 %>: <%= language.title %>
                    </button>
                  </h2>
                  <div id="collapseLanguage<%= index %>" class="accordion-collapse collapse show" aria-labelledby="headingLanguage<%= index %>" data-bs-parent="#languageAccordion">
                    <div class="accordion-body-dashboard">
                      <div class="content-dash-accordion"><strong>Your level:</strong> <%= language.level %></div>
                    </div>
                  </div>
                </div>
              <% end %>
            <% else %>
              <div>No languages</div>
            <% end %>
          </div>
        </div>
      <% else %>
        <p>You have not completed your profile yet.</p>
        <%= link_to 'Complete Profile', new_profile_path %>
      <% end %>
    </section>

    <!-- Job Offer Section -->
    <section id="joboffer" class="dashboard-section" data-dashboard-target="section">
      <h2>Targeted Job Offer</h2>
      <!-- The rest of your job offer content -->
      <% if @job_offers %>
        <div class="dash-joboffer">
          <% @job_offers.each do |job_offer| %>
            <div class="joboffer-list">
              <p><strong>Title: </strong><%= job_offer.title %></p>
              <p><strong>Description: </strong><%= job_offer.description %></p>
            </div>
          <% end %>
        </div>
      <% else %>
        <p>You have not provided any job offer yet.</p>
        <%= link_to 'Complete Profile', new_profile_path %>
      <% end %>
    </section>
    <!-- Generated Resumes Section -->
    <section id="cvs" class="dashboard-section" data-dashboard-target="section">
      <h2>Your Generated Resumes</h2>
      <!-- The rest of your resumes content -->
      <% if @cvs.present? %>
        <div class="dash-cvs">
          <h4>Your generated resumes</h4>
          <% @cvs.each do |cv| %>
            <div class="cvs-list">
              <p><strong>Title:</strong><%= cv.title %></p>
            </div>
          <% end %>
        </div>
      <% else %>
        <p>You have not generated any resumes yet.</p>
      <% end %>
    </section>
  </main>
</div>
